(()=>{var o={678:o=>{"use strict";if(void 0===flarum.core.compat["tags/components/TagSelectionModal"]){var t=new Error("Cannot find module 'flarum.core.compat['tags/components/TagSelectionModal']'");throw t.code="MODULE_NOT_FOUND",t}o.exports=flarum.core.compat["tags/components/TagSelectionModal"]}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.n=o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return n.d(t,{a:t}),t},n.d=(o,t)=>{for(var e in t)n.o(t,e)&&!n.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},n.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),(()=>{"use strict";const o=flarum.core.compat["forum/app"];var t=n.n(o);const e=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/IndexPage"];var a=n.n(r);const s=flarum.core.compat["forum/components/DiscussionPage"];var c=n.n(s);const i=flarum.core.compat["common/components/Button"];var u=n.n(i);const m=flarum.core.compat["forum/components/DiscussionComposer"];var p=n.n(m);const l=flarum.core.compat["forum/components/ReplyComposer"];var d=n.n(l),f=null;try{f=n(678).default}catch(o){f=null}t().initializers.add("anon-guest-composer",function(){var o,n=p().prototype.onsubmit;if(p().prototype.onsubmit=function(o){var t=this.data();return t.relationships=t.relationships||{},t.relationships.tags={data:[{type:"tags",id:"2"}]},this.data=function(){return t},n.call(this,o)},null==(o=t().session)||!o.user){try{var r;null!=(r=t().forum)&&null!=(r=r.data)&&r.attributes&&(t().forum.data.attributes.canStartDiscussion=!0)}catch(o){}var s=document.createElement("style");s.textContent="\n    .Button--newDiscussion,\n    .item-reply .Button { display:inline-flex !important; opacity:1 !important; pointer-events:auto !important; }\n  ",document.head.appendChild(s),(0,e.extend)(a().prototype,"actionItems",function(o){o.add("anonGuestNewDiscussion",u().component({className:"Button Button--primary",onclick:function(){return e=void 0===(n=(void 0===(o={withTags:!0})?{}:o).withTags)||n,t().composer.load(p(),{}),t().composer.show(),void(e&&f&&t().modal.show(f,{selectedTags:[],onsubmit:function(o){}}));var o,n,e}},t().translator.trans("core.forum.index.start_discussion_button")),0)}),(0,e.extend)(c().prototype,"actionItems",function(o){var n=this;o.add("anonGuestReply",u().component({className:"Button Button--primary",onclick:function(){return o=n.discussion,t().composer.load(d(),{discussion:o}),void t().composer.show();var o}},t().translator.trans("core.forum.discussion.reply_button")),0)})}})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map